<a href='../index.html'>Back to topics</a><style> #notes_table {	font-family: arial, sans-serif; border-collapse: collapse;  width: 100%; background-color: #ffffff;	color:black;}#notes_table td, #notes_table th { text-align: left; padding: 8px; border: 1px solid #808080;}#notes_table tr:nth-child(even) {background-color: white;}#notes_table tr:hover {	background-color:  #ffffff;}#notes_table tr > th {	background: #f8f8f8; color: black;}</style><table  id='notes_table'><tr align= left><th>Isolation and segmentation</th></ul></td></tr><td><ul><li>allows you to create multiple isolated virtual networks</li><li>The IP range only exists within the virtual network and isn't internet routable</li><li>can divide that IP address space into subnets and allocate part of the defined address space to each named subnet.</li><li>can configure the virtual network to use either an internal or an external DNS server.</li><tr align= left><th>Internet communications</th></ul></td></tr><td><ul><li>can enable incoming connections from the internet by assigning a public IP address to an Azure resource, or putting the resource behind a public load balancer.</li><tr align= left><th>Communicate between Azure resources</th></ul></td></tr><td><ul><li>Virtual networks can connect not only VMs but other Azure resources</li><li>Service endpoints can connect to other Azure resource types, such as Azure SQL databases and storage accounts.</li><tr align= left><th>Communicate with on-premises resources</th></ul></td></tr><td><ul><li>1 Point-to-site virtual private network connections are from a computer outside your organization back into your corporate network</li><li>client computer initiates an encrypted VPN connection to connect to the Azure virtual network</li><li>2 Site-to-site virtual private networks link your on-premises VPN device or gateway to the Azure VPN gateway in a virtual network</li><li>The connection is encrypted and works over the internet.</li><li>3 Azure ExpressRoute provides a dedicated private connectivity to Azure that doesn't travel over the internet</li><li>ExpressRoute is useful for environments where you need greater bandwidth and even higher levels of security.</li><tr align= left><th>Route network traffic</th></ul></td></tr><td><ul><li>By default, Azure routes traffic between subnets on any connected virtual networks, on-premises networks, and the internet</li><li>You also can control routing and override those settings as</li><li>1. Route tables allow you to define rules about how traffic should be directed. You can create custom route tables that control how packets are routed between subnets.</li><li>2. Border Gateway Protocol (BGP) works with Azure VPN gateways, Azure Route Server, or Azure ExpressRoute to propagate on-premises BGP routes to Azure virtual networks</li><tr align= left><th>Filter network traffic</th></ul></td></tr><td><ul><li>Azure virtual networks enable you to filter traffic between subnets as</li><li>1. Network security groups are Azure resources that can contain multiple inbound and outbound security rules</li><li>2. Network virtual appliances are specialized VMs that can be compared to a hardened network appliance</li><li>A network virtual appliance carries out a particular network function, such as running a firewall or performing wide area network (WAN) optimization.</li><tr align= left><th>Connect virtual networks</th></ul></td></tr><td><ul><li>Virtual Network Peering allows two virtual networks to connect directly to each other.</li><li>Network traffic between peered networks is private, never entering the public internet</li><li>These virtual networks can be in separate regions, which allows you to create a global interconnected network through Azure.</li><li>User-defined routes (UDR) allow you to control the routing tables between subnets within a virtual network or between virtual networks.</li><li>This allows for greater control over network traffic flow.</li><tr align= left><th>Azure Virtual Private Networks</th></ul></td></tr><td><ul><li>A virtual private network (VPN) uses an encrypted tunnel within another network.</li><li>VPNs are typically deployed to connect two or more trusted private networks to one another over an untrusted network (typically the public internet</li><tr align= left><th>VPN gateways</th></ul></td></tr><td><ul><li>A VPN gateway is a type of virtual network gateway. are deployed in a dedicated subnet of the virtual network</li><li>Connect on-premises datacenters to virtual networks through a site-to-site connection</li><li>Connect individual devices to virtual networks through a point-to-site connection.</li><li>Connect virtual networks to other virtual networks through a network-to-network connection</li><li>All data transfer is encrypted inside a private tunnel as it crosses the internet</li><li>You can deploy only one VPN gateway in each virtual network</li><li>However, you can use one gateway to connect to multiple locations, which includes other virtual networks or on-premises datacenters</li><li>VPN gateway can be either policy-based or route-based. Both types of VPN gateways use a pre-shared key as the only method of authentication</li><li>1. Policy-based VPN gateways specify statically the IP address of packets that should be encrypted through each tunnel.</li><li>2. In Route-based gateways, IPSec tunnels are modeled as a network interface or virtual tunnel interface</li><li>Route-based VPNs are the preferred connection method for on-premises devices.</li><li>Use Route-based VPN gateway in case of 1. connections between virtual networks 2. point-to-site 3. Multisite connections and 4 Coexistence with an Azure ExpressRoute gateway</li><tr align= left><th>High-availability scenarios (relates to VM Gateway)</th></ul></td></tr><td><ul><li>Active/standby = By default, VPN gateways are deployed as two instances in an active/standby configuration, even if you only see one VPN gateway resource in Azure</li><li>Active/active = With the introduction of support for the BGP routing protocol, you can also deploy VPN gateways in active/active</li><li>you assign a unique public IP address to each instance</li><li>You then create separate tunnels from the on-premises device to each IP address</li><tr align= left><th>ExpressRoute failover</th></ul></td></tr><td><ul><li>ExpressRoute circuits have resiliency built in BUT they aren't immune to physical problems that affect the cables or outages</li><li>To mitigate the outage of an ExpressRoute circuit, you can also provision a VPN gateway that uses the internet as an alternative method of connectivity.</li><tr align= left><th>Zone-redundant gateways</th></ul></td></tr><td><ul><li>This configuration brings resiliency, scalability, and higher availability to virtual network gateways</li><li>Deploying gateways in Azure availability zones physically and logically separates gateways within a region while protecting your on-premises network connectivity to Azure from zone-level failures.</li><li>These gateways require different gateway stock keeping units (SKUs) and use Standard public IP addresses instead of Basic public IP addresses</li><tr align= left><th>Azure ExpressRoute</th></ul></td></tr><td><ul><li>ExpressRoute connections don't go over the public Internet.</li><li>With ExpressRoute, you can establish connections to Microsoft cloud services, such as Microsoft Azure and Microsoft 365</li><li>This allows you to connect offices, datacenters, or other facilities to the Microsoft cloud. Each location would have its own ExpressRoute circuit.</li><tr align= left><th>Benefits of ExpressRoute</th></ul></td></tr><td><ul><li>Connectivity to Microsoft cloud services across all regions in the geopolitical region</li><li>Global connectivity to Microsoft services across all regions with the ExpressRoute Global Reach</li><li>Dynamic routing between your network and Microsoft via Border Gateway Protocol (BGP).</li><li>Built-in redundancy in every peering location for higher reliability</li><tr align= left><th>Connectivity to Microsoft cloud services</th></ul></td></tr><td><ul><li>ExpressRoute enables direct access to Microsoft Office 365, Microsoft Dynamics 365, Azure compute services, Azure cloud services</li><tr align= left><th>Global connectivity</th></ul></td></tr><td><ul><li>You can enable ExpressRoute Global Reach to exchange data across your on-premises sites by connecting your ExpressRoute circuits.</li><tr align= left><th>Dynamic routing</th></ul></td></tr><td><ul><li>ExpressRoute uses the BGP</li><li>BGP is used to exchange routes between on-premises networks and resources running in Azure</li><li>This protocol enables dynamic routing between your on-premises network and services running in the Microsoft cloud.</li><tr align= left><th>Built-in redundancy</th></ul></td></tr><td><ul><li>Each connectivity provider uses redundant devices to ensure that connections established with Microsoft are highly available</li><tr align= left><th>ExpressRoute connectivity models</th></ul></td></tr><td><ul><li>CloudExchange colocation</li><li>Point-to-point Ethernet connection</li><li>Any-to-any connection</li><li>Directly from ExpressRoute sites</li><tr align= left><th>Co-location at a cloud exchange</th></ul></td></tr><td><ul><li>Co-location refers to your datacenter, office, or other facility being physically co-located at a cloud exchange, such as an ISP</li><tr align= left><th>Point-to-point Ethernet connection</th></ul></td></tr><td><ul><li>Point-to-point ethernet connection refers to using a point-to-point connection to connect your facility to the Microsoft cloud</li><tr align= left><th>Any-to-any networks</th></ul></td></tr><td><ul><li>With any-to-any connectivity, you can integrate your wide area network (WAN) with Azure by providing connections to your offices and datacenters.</li><li>Azure integrates with your WAN connection to provide a connection like you would have between your datacenter and any branch offices</li><tr align= left><th>Directly from ExpressRoute sites</th></ul></td></tr><td><ul><li>You can connect directly into the Microsoft's global network at a peering location strategically distributed across the world.</li><li>ExpressRoute Direct provides dual 100 Gbps or 10-Gbps connectivity, which supports Active/Active connectivity at scale.</li><tr align= left><th>Security considerations</th></ul></td></tr><td><ul><li>With ExpressRoute, your data doesn't travel over the public internet, so it's not exposed to the potential risks associated with internet communications</li><li>ExpressRoute is a private connection from your on-premises infrastructure to your Azure infrastructure</li><li>Even if you have an ExpressRoute connection, DNS queries, certificate revocation list checking, and Azure Content Delivery Network requests are still sent over the public internet.</li></table><a href='../index.html'>Back to topics</a>
<a href='../index.html'>Back to topics</a><style> #notes_table {	font-family: arial, sans-serif; border-collapse: collapse;  width: 100%; background-color: #ffffff;	color:black;}#notes_table td, #notes_table th { text-align: left; padding: 8px; border: 1px solid #808080;}#notes_table tr:nth-child(even) {background-color: white;}#notes_table tr:hover {	background-color:  #ffffff;}#notes_table tr > th {	background: #f8f8f8; color: black;}</style><table  id='notes_table'><tr align= left><th>Plan virtual networks</th></ul></td></tr><td><ul><li>An Azure virtual network is a logical isolation of the Azure cloud that's dedicated to your subscription</li><li>You can use virtual networks to provision and manage virtual private networks (VPNs) in Azure.</li><li>Each virtual network has its own Classless Inter-Domain Routing (CIDR) block and can be linked to other virtual networks and on-premises networks</li><li>You can link virtual networks with an on-premises IT infrastructure to create hybrid or cross-premises solutions, when the CIDR blocks of the connecting networks don't overlap</li><li>You control the DNS server settings for virtual networks, and segmentation of the virtual network into subnets</li><li>Create a dedicated private cloud-only virtual network when  you don't require a cross-premises configuration for your solution</li><li>Securely extend your data center with virtual networks. You can build traditional site-to-site VPNs to securely scale your datacenter capacity.</li><li>Site-to-site VPNs use IPSEC to provide a secure connection between your corporate VPN gateway and Azure.</li><li>Enable hybrid cloud scenarios. You can securely connect cloud-based applications to any type of on-premises system, such as mainframes and Unix systems.</li><tr align= left><th>Create subnets</th></ul></td></tr><td><ul><li>logical divisions within your virtual network.</li><li>Your network can be segmented into subnets to help improve security, increase performance, and make it easier to manage.</li><li>Each subnet contains a range of IP addresses that fall within the virtual network address space.</li><li>The address range for a subnet must be unique within the address space for the virtual network.</li><li>The range for one subnet can't overlap with other subnet IP address ranges in the same virtual network.</li><li>The IP address space for a subnet must be specified by using CIDR notation. Ex -> CIDR notation->192.168. 1.0/22. 22 bit n/w identifier for the IP</li><li>You can segment a virtual network into one or more subnets in the Azure portal</li><tr align= left><th>Reserved addresses</th></ul></td></tr><td><ul><li>For each subnet, Azure reserves five IP addresses. The first four addresses and the last address are reserved.</li><li>Lets see example of reserved address in IP address range of reserved addresses in an IP address range of 192.168.1.0/24.</li><li>192.168.1.0 -> This value identifies the virtual network address</li><li>192.168.1.1 -> Azure configures this address as default gateway</li><li>192.168.1.2 and 192.168.1.3 -> Azure maps these Azure DNS IP addresses to the virtutal network space</li><li>192.168.1.255 -> This value supllies the virtual network broadcast address</li><tr align= left><th>Things to consider when using subnets</th></ul></td></tr><td><ul><li>Consider service requirements ==> Each service directly deployed into a virtual network has specific requirements for routing and the types of traffic that must be allowed into and out of associated subnets.</li><li>A service might require or create their own subnet. There must be enough unallocated space to meet the service requirements</li><li>Consider network virtual appliances ==> Azure routes network traffic between all subnets in a virtual network, by default.</li><li>You can override Azure's default routing to prevent Azure routing between subnets.</li><li>You can also override the default to route traffic between subnets through a network virtual appliance</li><li>Consider service endpoints. ==> You can limit access to Azure resources like an Azure storage account or Azure SQL database to specific subnets with a virtual network service endpoint</li><li>You can also deny access to the resources from the internet. You might create multiple subnets, and then enable a service endpoint for some subnets, but not others.</li><li>Consider network security groups. ==> You can associate zero or one network security group to each subnet in a virtual network.</li><li>You can associate the same or a different network security group to each subnet</li><li>Consider private links ==> Azure Private Link provides private connectivity from a virtual network to Azure platform as a service (PaaS), customer-owned, or Microsoft partner services</li><li>Private Link simplifies the network architecture and secures the connection between endpoints in Azure. The service eliminates data exposure to the public internet</li><tr align= left><th>Create virtual networks (Imp)</th></ul></td></tr><td><ul><li>Virtual networks can be created at any time also while creating vms</li><li>When you create a virtual network, you need to define the IP address space for the network</li><li>Plan to use an IP address space that's not already in use in your organization</li><li>The address space for the network can be either on-premises or in the cloud, but not both</li><li>You can't redefine the IP address space for a network after it's created. If you plan your address space for cloud-only virtual networks, you might later decide to connect an on-premises site.</li><li>To create a virtual network, you need to define at least one subnet.</li><li>Each subnet contains a range of IP addresses that fall within the virtual network address space.</li><li>The address range for each subnet must be unique within the address space for the virtual network.</li><li>The range for one subnet can't overlap with other subnet IP address ranges in the same virtual network.</li><li>You can create a virtual network in the Azure portal. Provide the Azure subscription, resource group, virtual network name, and service region for the network.</li><tr align= left><th>Plan IP addressing (private/public)</th></ul></td></tr><td><ul><li>Private IP addresses enable communication within an Azure virtual network and your on-pre network.</li><li>Use private IP address for your resource when you use a VPN gateway or Azure ExpressRoute circuit to extend your n/w to Azure.</li><li>Public IP addresses allow your resource to communicate with the internet. Create public IP address to connect with Azure public-facing services</li><tr align= left><th>Note these points</th></ul></td></tr><td><ul><li>IP addresses can be statically assigned or dynamically assigned.</li><li>You can separate dynamically and statically assigned IP resources into different subnets.</li><li>Static IP addresses don't change and are best for certain situations, such as below ones</li><li>DNS name resolution where a change in IP address requires updating host records</li><li>IP address-based security models that require apps or services to have a static IP</li><li>TLS/SSL certificates linked to an IP address</li><li>Firewall rules that allow or deny traffic using IP address ranges</li><li>Role-based virtual machines such as Domain Controllers and DNS servers</li><tr align= left><th>Create public IP addressing</th></ul></td></tr><td><ul><li>IP Version ==> Select to create an IPv4 or IPv6 address, or Both addresses. The Both option creates two public IP addresses. an IPv4 address and an IPv6 address.</li><li>SKU ==> Select the SKU for the public IP address, including Basic or Standard. The value must match the SKU of the Azure load balancer with which the address is used</li><li>Name ==> Enter a name to identify the IP address. The name must be unique within the resource group you select.</li><li>IP address assignment ==> Dynamic or Static</li><li>Dynamic addresses are assigned after a public IP address is associated to an Azure resource and is started for the first time. Dynamic addresses can change if a resource such as a virtual machine is stopped (deallocated) and then restarted through Azure</li><li>The address remains the same if a virtual machine is rebooted or stopped from within the guest OS.</li><li>When a public IP address resource is removed from a resource, the dynamic address is released.</li><li>Static addresses are assigned when a public IP address is created. Static addresses aren't released until a public IP address resource is deleted</li><li>If the address isn't associated to a resource, you can change the assignment method after the address is created.</li><tr align= left><th>Note</th></ul></td></tr><td><ul><li>If you select IPv6 for the IP version, the assignment method must be Dynamic for the Basic SKU</li><li>Standard SKU addresses are Static for both IPv4 and IPv6 addresses.</li><tr align= left><th>Associate public IP addresses</th></ul></td></tr><td><ul><li>A public IP address resource can be associated with virtual machine network interfaces, internet-facing load balancers, VPN gateways, and application gateways</li><li>You can associate your resource with both dynamic and static public IP addresses.</li><li>Associating public IP addresses (both Dynamic/Static*) -></li><li>VM==>NIC</li><li>Load balancer ==> Front-end configuration</li><li>VPN gateway ==> VPN gateway IP configuration</li><li>Application gateway ==> Front-end configuration</li><tr align= left><th>Public IP address SKUs</th></ul></td></tr><td><ul><li>Basic SKU -> Static or Dynamic for IP assignment</li><li>Standard SKU -> Static for IP assignment</li><li>Open security by default for Basic SKU and secure by default, closed to inbound traffic in Standard SKU</li><li>Reduandancy - Basic SKU is not zone redandant and Standard SKU is zone redundant by default</li><tr align= left><th>Allocate or assign private IP addresses</th></ul></td></tr><td><ul><li>A private IP address resource can be associated with virtual machine network interfaces, internal load balancers, and application gateways</li><li>Azure can provide an IP address (dynamic assignment) or you can assign the IP address (static assignment).</li><li>VM->NIC->Dynamic/static IP address assignment</li><li>Internal load balancer/Application gateway->Front-end configuration->Dynamic/Static IP address</li><tr align= left><th>Private IP address assignment</th></ul></td></tr><td><ul><li>Dynamic assignment ==> is the default allocation method. Azure assigns next available IP addresses in the subnet's address space</li><li>Static ==>you select and assign any unassigned or unreserved IP address in the subnet's address range</li></table><a href='../index.html'>Back to topics</a>
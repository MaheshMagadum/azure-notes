<a href='../index.html'>Back to topics</a><style> #notes_table {	font-family: arial, sans-serif; border-collapse: collapse;  width: 100%; background-color: #ffffff;	color:black;}#notes_table td, #notes_table th { text-align: left; padding: 8px; border: 1px solid #808080;}#notes_table tr:nth-child(even) {background-color: white;}#notes_table tr:hover {	background-color:  #ffffff;}#notes_table tr > th {	background: #f8f8f8; color: black;}</style><table  id='notes_table'><tr align= left><th>Azure CLI</th></ul></td></tr><td><ul><li>az vm start/stop/restart -g ubuntu_group -n ubuntu</li><li>A</li><li>B</li><li>C</li><tr align= left><th>Azure Resource Manager (ARM)</th></ul></td></tr><td><ul><li>The infrastructure for your application is typically made up of many components</li><li>You can deploy, update, or delete all the resources for your solution in a single, coordinated operation</li><li>Azure Resource Manager provides security, auditing, and tagging features to help you manage your resources after deployment.</li><li>Azure Resource Manager provides a consistent management layer to perform tasks through Azure PowerShell, Azure CLI, Azure portal, REST API, and client SDKs</li><tr align= left><th>Consistent management layer</th></ul></td></tr><td><ul><li>Resource Manager API does this.</li><li>Azure Portal, (Azure PowerShell,  Azure CLI = through SDKs), Rest Clients API callers. The API passes requests to the Azure Resource Manager service, which authenticates and authorizes the requests</li><li>Azure Resource Manager then routes the requests to the appropriate resource providers.</li><tr align= left><th>ARM Benefits</th></ul></td></tr><td><ul><li>You can deploy, manage, and monitor all the resources for your solution as a group, rather than handling these resources individually</li><li>You can repeatedly deploy your solution throughout the development lifecycle and have confidence your resources are deployed in a consistent state</li><li>You can manage your infrastructure through declarative templates rather than scripts.</li><li>You can define the dependencies between resources so they're deployed in the correct order.</li><li>You can apply access control to all services in your resource group because Role-Based Access Control (RBAC) is natively integrated into the management platform.</li><li>You can apply tags to resources to logically organize all the resources in your subscription</li><li>You can clarify your organization's billing by viewing costs for a group of resources sharing the same tag</li><tr align= left><th>Guidance</th></ul></td></tr><td><ul><li>Define and deploy your infrastructure through the declarative syntax in Azure Resource Manager templates, rather than through imperative commands</li><li>Define all deployment and configuration steps in the template. You should have no manual steps for setting up your solution</li><li>Run imperative commands to manage your resources, such as to start or stop an app or machine</li><li>Arrange resources with the same lifecycle in a resource group. Use tags for all other organizing of resources</li><tr align= left><th>Resource providers</th></ul></td></tr><td><ul><li>Microsoft.KeyVault, Microsoft.Compute, Microsoft.Storage, Microsoft.Web</li><li>The name of a resource type is in the format=> {resource-provider}/{resource-type}. For example, the key vault type is Microsoft.KeyVault/vaults.</li><li>Gain an understanding of the available resource providers</li><li>Also, you need to know the valid locations and API versions for each resource type.</li><tr align= left><th>Creating resource groups</th></ul></td></tr><td><ul><li>All the resources in your group should share the same lifecycle. You deploy, update, and delete them together.</li><li>If one resource, such as a database server, needs to exist on a different deployment cycle it should be in another resource group.</li><li>Each resource can only exist in one resource group</li><li>You can add or remove a resource to a resource group at any time.</li><li>You can move a resource from one resource group to another group. Limitations do apply to moving resources.</li><li>A resource group can contain resources that reside in different regions</li><li>A resource group can be used to scope access control for administrative actions.</li><li>A resource can interact with resources in other resource groups</li><li>This interaction is common when the two resources are related but don't share the same lifecycle (for example, web apps connecting to a database).</li><li>When creating a resource group, you need to provide a location for that resource group</li><li>Because the resource group stores metadata about the resources.</li><li>Therefore, when you specify a location for the resource group, you're specifying where that metadata is stored</li><li>For compliance reasons, you may need to ensure that your data is stored in a particular region.</li><li>Note - By scoping permissions to a resource group, you can add/remove and modify resources easily without having to recreate assignments and scopes.</li><tr align= left><th>Create Azure Resource Manager locks</th></ul></td></tr><td><ul><li>You can associate the lock with a subscription, resource group, or resource.</li><li>Locks are inherited by child resources.</li><tr align= left><th>Lock types</th></ul></td></tr><td><ul><li>Read-Only locks, which prevent any changes to the resource.</li><li>Delete locks, which prevent deletion.</li><li>Note - Only the Owner and User Access Administrator roles can create or delete management locks.</li><tr align= left><th>Reorganize Azure resources</th></ul></td></tr><td><ul><li>Sometimes you may need to move resources to either a new subscription or a new resource group in the same subscription.</li><li>When moving resources, both the source group and the target group are locked during the operation</li><li>Write and delete operations are blocked on the resource groups until the move completes.</li><li>This lock means you can't add, update, or delete resources in the resource groups.</li><li>if you move a virtual machine to a new resource group, an application can still access the virtual machine.</li><tr align= left><th>Move Resources Limitations</th></ul></td></tr><td><ul><li>Moving resources across Azure Active Directory tenants isn't supported.</li><li>ref ==> https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/move-support-resources</li><tr align= left><th>Move Implementation</th></ul></td></tr><td><ul><li>To move resources, select the resource group containing those resources, and then select the Move button</li><li>Select the resources to move and the destination resource group. Acknowledge that you need to update scripts.</li><tr align= left><th>Note</th></ul></td></tr><td><ul><li>Just because a service can be moved doesn’t mean there aren’t restrictions. For example, you can move a virtual network, but you must also move its dependent resources, like gateways.</li><tr align= left><th>Remove resources and resource groups</th></ul></td></tr><td><ul><li>Deleting a resource group deletes all the resources contained within it</li><li>That resource group might contain resources that resources in other resource groups depend on.</li><tr align= left><th>Using PowerShell to delete resource groups</th></ul></td></tr><td><ul><li>Remove-AzResourceGroup -Name "ContosoRG01"</li><tr align= left><th>Removing resources (Delete/Move?)</th></ul></td></tr><td><ul><li>You can also delete individual resources within a resource group.</li><li>For example, here we are deleting a virtual network. Instead, of deleting you can move the resource to another resource group</li><tr align= left><th>Determine resource limits</th></ul></td></tr><td><ul><li>Azure lets you view resource usage against limits. This is helpful to track current usage, and plan for future use.</li><li>Click on Usage + quotas</li><li>The limits shown are the limits for your subscription.</li><li>When you need to increase a default limit, there is a 'Request Increase' link.</li><li>All resources have a maximum limit listed in Azure limits.</li><li>View limits at-> https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/azure-subscription-service-limits?toc=%2Fazure%2Fnetworking%2Ftoc.json</li><li>If you are at the maximum limit, the limit can't be increased.</li></table><a href='../index.html'>Back to topics</a>
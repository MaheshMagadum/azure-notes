<a href='../index.html'>Back to topics</a><style> #notes_table {	font-family: arial, sans-serif; border-collapse: collapse;  width: 100%; background-color: #ffffff;	color:black;}#notes_table td, #notes_table th { text-align: left; padding: 8px; border: 1px solid #808080;}#notes_table tr:nth-child(even) {background-color: white;}#notes_table tr:hover {	background-color:  #ffffff;}#notes_table tr > th {	background: #f8f8f8; color: black;}</style><table  id='notes_table'><tr align= left><th>Azure Blog Storage</th></ul></td></tr><td><ul><li>Serve images/documents directly to browser</li><li>for distributed access</li><li>Streaming video/audio</li><li>Storing data for backup and restore, disaster recovery and archiving</li><li>Storing data for analysis by an on-prem or azure-hosted service</li><li>Blob storage can be accessed from anywhere via HTTP/S via below</li><li>URLs, REST API, PowerShell, CLI or Azure storage client library.</li><li>Client libraries available for many languages + .Net, Java, Node.js, Python, PHP, Ruby</li><li>You can access data from Azure blob storage using NFS protocol.</li><tr align= left><th>Azure Files</th></ul></td></tr><td><ul><li>Highly available network file shares.</li><li>Can be accessed by SMB (Server Message Block) protocol.</li><li>Also access by REST interface or storage client libraries</li><li>Case studies below</li><li>Many on-pre apps use file shares. Makes it easier to migrate those apps</li><li>Config files can be stored on a file share and accessed from VMs.</li><li>Diagnostic logs, metrics and crash dumps are examples of file share and process/analyze later</li><tr align= left><th>Azure Table Storage(Azure Cosmos DB)</th></ul></td></tr><td><ul><li>Azure table storage is now part of Azure Cosmos DB which is fully managed NoSAL db service for modern app dev</li><li>Fully managed service, Azure cosmos DB takes db admin off your hands with auto mgmt, updates and patching</li><li>New Azure Cosmos TB Table API offering provides throughput-optimized tables, global distribution and automatic secondary indexes</li><tr align= left><th>Things to consider when choosing Azure Storage services</th></ul></td></tr><td><ul><li>Consider storage optimization for massive data ==> Azure Blob Storage is optimized for storing massive amounts of unstructured data</li><li>Consider storage with high availability ==> Azure Files supports it (network file shares), read/write access via storage a/c creds</li><li>Consider storage for messages ==> Use Azure Queue Storage to store large num of msgs. Commonly used to create a backlog of work to process asynchronously</li><li>Consider storage for structured data ==> Azure Table storage. Non-relation data.</li><tr align= left><th>Storage account types</th></ul></td></tr><td><ul><li>Standard general-purpose v2 ==> All storage types</li><li>Premium block blobs ==> Premium storage account for block blobs and append blobs. Recommended for applications with high transaction rates.</li><li>Premium file shares ==> Azure files - For file shares only for high-performance scale apps</li><li>Premium page blobs ==> Premium high-performance storage account for page blobs only.</li><li>Page blobs are ideal for storing index-based and sparse data structures, such as operating systems, data disks for virtual machines, and databases.</li><li>All storage account types are encrypted by using Storage Service Encryption (SSE) for data at rest</li><tr align= left><th>Determine replication strategies</th></ul></td></tr><td><ul><li>The data in your Azure storage account is always replicated to ensure durability and high availability</li><li>LRS, ZRS, GRS, GZRS</li><li>Zone redundant storage synchronously replicates your data across three storage clusters in a single region</li><li>Refer to other page for diagrams and more explaination</li><li>Node in Data Center unavailable ==> LRS, ZRS, GRS, RA_GRS, GZRS, RA-GZRS</li><li>Entire DC unavailable ==> ZRS, GRS, RA-GRS, GZRS, RA-GZRS</li><li>Region-wide outage ==> GRS, RA-GRS, GZRS, RA-GZRS</li><li>Read access during region-wide outage ==> RA-GRS, RA-GZRS</li><li>Supported storage accounts ==> LRS->GPv1, GPv2, Blob - ZRS->GPv2 blob - RA-GRS->GPv1, GPv2, Blob - RA-GZRS->GPv2</li><tr align= left><th>Storage Access</th></ul></td></tr><td><ul><li>Container service ==> ex->//mystorageaccount.blob.core.windows.net</li><li>Table service ==> ex->//mystorageaccount.table.core.windows.net</li><li>Queue service ==> ex->//mystorageaccount.queue.core.windows.net</li><li>File service ==> ex->//mystorageaccount.table.core.windows.net</li><li>To access the myblob data in the mycontainer location in your storage account, use below</li><li>ex -> //mystorageaccount.blob.core.windows.net/mycontainer/myblob.</li><tr align= left><th>Configure custom domains</th></ul></td></tr><td><ul><li>Azure Storage doesn't currently provide native support for HTTPS with custom domains. You can implement an Azure Content Delivery Network (CDN) to access blobs by using custom domains over HTTPS.</li><li>There are 2 ways</li><li>Direct mapping ==> lets you enable a custom domain for a subdomain to an Azure storage account</li><li>Subdomain ==> blobs.contoso.com</li><li>Direct CNAME record ==> contosoblobs.blob.core.windows.net</li><li>Intermediary domain mapping ==> is applied to a domain that's already in use within Azure</li><li>CNAME record ==> asverify.blobs.contoso.com</li><li>Intermediate CNAME record ==> asverify.contosoblobs.blob.core.windows.net</li><tr align= left><th>Secure storage endpoints</th></ul></td></tr><td><ul><li>The Firewalls and virtual networks settings restrict access to your storage account from specific subnets on virtual networks or public IPs.</li><li>You can configure the service to allow access to one or more public IP ranges</li><li>Subnets and virtual networks must exist in the same Azure region or region pair as your storage account.</li><li>Be sure to test the service endpoint and verify the endpoint limits access as expected.</li><tr align= left><th>Points</th></ul></td></tr><td><ul><li>Check if Read only access is a customer requirement.</li><li>check kind of the data, time based? is all data important or only present sensed data</li><li>Before selecting storage types such as LRS, GRS, RA-GRS, ZRS etc</li><tr align= left><th>Check this</th></ul></td></tr><td><ul><li>(sandbox test) https://learn.microsoft.com/en-us/training/modules/configure-blob-storage/11-summary-resources</li></table><a href='../index.html'>Back to topics</a>
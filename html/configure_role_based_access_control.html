<a href='../index.html'>Back to topics</a><style> #notes_table {	font-family: arial, sans-serif; border-collapse: collapse;  width: 100%; background-color: #ffffff;	color:black;}#notes_table td, #notes_table th { text-align: left; padding: 8px; border: 1px solid #808080;}#notes_table tr:nth-child(even) {background-color: white;}#notes_table tr:hover {	background-color:  #ffffff;}#notes_table tr > th {	background: #f8f8f8; color: black;}</style><table  id='notes_table'><tr align= left><th>Implement role-based access control</th></ul></td></tr><td><ul><li>RBAC lets you determine what operations specific users can do on specific resources, and control what areas of a resource each user can access</li><li>Areas of resource? Find this out</li><li>Azure RBAC is an authorization system built on Azure Resource Manage</li><li>What provides fine-grained access management of resources in Azure? Azure RBAC</li><tr align= left><th>What are Azure RBAC?</th></ul></td></tr><td><ul><li>Allow an app to access all resources in a rg</li><li>Allow one user to manage VMs in a subscription and allow another user to manage VNETs</li><li>Allow a database admin (DBA) group to manage SQL DB in a subscription</li><li>Allow a user to manage all resources in a rg such as VMs, websites and subnets.</li><tr align= left><th>RBAC concepts</th></ul></td></tr><td><ul><li>Security principal ==> An object that represents something that requests access to resources.</li><li>Role definition ==> A set of permissions that lists the allowed operations. Azure RBAC comes with built-in role definitions, but custom also</li><li>Scope ==> The boundary for the requested level of access or how much access is granted</li><li>Assignment ==> This attaches a role def to a security principal at a particular scope</li><li>Assign the User Access Administrator role to an admin group scoped to a mgmt grp etc</li><tr align= left><th>Consider these things</th></ul></td></tr><td><ul><li>Consider your requestors. Requestors can be internal or external</li><li>Consider your roles. Check the types of job responsibilities and work scenarios in org.</li><li>Consider scope of permissions. You can apply different scope levels for a single role to support requestors in different scenarios.</li><li>Consider built-in or custom definitions.  Review the built-in role definitions in Azure RBAC</li><li>Built-in roles can be used as-is, or adjusted to meet the specific requirements for your organization</li><li>you can build custom role definitions from scratch</li><tr align= left><th>Create a role definition</th></ul></td></tr><td><ul><li>A role definition consists of sets of permissions that are defined in a JSON file</li><li>Actions ==> permissions identify what actions are allowd</li><li>NotActions ==> permissions specify what actions aren't allowed</li><li>DataACtions ==> permissions include how data can be changed or used</li><li>AssignableScopes ==> permissions list the scopes where a role def can be assigned</li><li>Authorization/*/Delete ==> Not authorized to delete or remove for "all."</li><li>Authorization/*/Write ==> Not authorized to write or change for "all."</li><li>Authorization/elevateAccess/Action ==> Not authorized to increase the level or scope of access privileges</li><li>NotDataActions(colomn)[] ==> No specific actions are listed. Therefore, all actions can affect the data.</li><li>AssignableScopes ==> In square braket / -> The role can be assigned for all scopes that affect data.</li><li>Above example is Contributor role.</li><tr align= left><th>Notes</th></ul></td></tr><td><ul><li>The Owner built-in role has the highest level of access privilege in Azure.</li><li>The system subtracts NotActions permissions from Actions permissions to determine the effective permissions for a role.</li><li>The AssignableScopes permissions for a role can be management groups, subscriptions, resource groups, or resources.</li><li>Role permissions ==> Owner->Allow all actions (*)</li><li>Contributor-> Allow all actions, except write or delete role assignment</li><li>Reader -> Allow all read actions (/*/read)</li><tr align= left><th>Role scopes</th></ul></td></tr><td><ul><li>After you define the role permissions, you use the AssignableScopes permissions to specify how the role can be assigned.</li><li>Scope a role as available for assignment in two subscriptions</li><li>Scope a role as available for assignment only in the Network resource group</li><li>Scope a role as available for assignment for all requestors ("/")</li><tr align= left><th>Creating roles? Consider these</th></ul></td></tr><td><ul><li>built-in roles</li><li>creating custom definitions</li><li>limiting access scope. Administrators require full access to corporate resources to maintain infra</li><li>controlling changes to data. resources that should only be modified in specific scenarios?</li><li>applying deny assignments. Deny assignments block users from performing specific azure resource actions even if a role assignment grants them access</li><tr align= left><th>Create a role assignment</th></ul></td></tr><td><ul><li>is the process of scoping a role definition to limit permissions for a requestor, such as a user, group, service principal, or managed identity.</li><li>The purpose of a role assignment is to control access.</li><li>The scope limits which permissions defined for a role are available for the assigned requestor.</li><li>Access is revoked by removing a role assignment</li><li>A resource inherits role assignments from its parent resource.</li><tr align= left><th>Assigning scope levels for roles?</th></ul></td></tr><td><ul><li>Security principal (user, group, service principal)->role def->role assignment<-scope</li><li>Three security principals are supported ==> user, group, service principal.</li><li>Six built-in roles are implemented, and two custom roles are defined ==> Reader Support Tickets and Virtual Machine Operator.</li><li>The built-in Contributor role has two sets of permissions ==> Actions and NotActions.</li><li>The Contributor role is assigned at different scopes to the Marketing group and Pharma-sales resource group</li><li>Users in the Marketing group are granted access to create or manage any Azure resource in the Pharma-sales resource group.</li><li>Marketing users aren't granted access to resources outside the Pharma-sales resource group, unless they have another role assignment that grants them access to the resource group.</li><tr align= left><th>Compare Azure roles to Azure Active Directory roles</th></ul></td></tr><td><ul><li>Three types of roles are available for access management in Azure</li><li>1. Classic subscription administrator roles</li><li>2. Azure role-based access control (RBAC) roles</li><li>3. Azure Active Directory (Azure AD) administrator roles</li><li>Also Azure AD provides built-in administrator roles to manage Azure AD resources like users, groups, and domains.</li><li>Note - If you're considering using Classic administrator roles, use Azure Resource Manager roles instead</li><li>TODO ==> Compare Azure RBAC roles with Azure AD admin roles. There are diffs</li><li>Azure AD admin roles ==> are used to manage resources in Azure AD, such as users, groups, and domains. These roles are defined for the Azure AD tenant at the root level of the configuration</li><li>Azure RBAC roles ==> provide more granular access management for Azure resources.</li><li>These roles are defined for a requestor or resource and can be applied at multiple levels</li><tr align= left><th>Review fundamental Azure RBAC roles</th></ul></td></tr><td><ul><li>Azure RBAC provides over 100 pre-defined role definitions.</li><li>Ex -  If a user has read data access to a storage account, then they can read the blobs or messages in the storage account.</li><li>Owner ==> full access to all resources.</li><li>Service Administrator, Co-Administrators roles are assigned the Owner role at subsription scope</li><li>Contributor ==> This role can create and manage all types of AZ resources. Can't grant access to others</li><li>Reader ==> This role can view existing Azure resources</li><li>User Access Administrator ==> This can manage user access to Azure resources</li></table><a href='../index.html'>Back to topics</a>
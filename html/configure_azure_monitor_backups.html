<a href='../index.html'>Back to topics</a><style> #notes_table {	font-family: arial, sans-serif; border-collapse: collapse;  width: 100%; background-color: #ffffff;	color:black;}#notes_table td, #notes_table th { text-align: left; padding: 8px; border: 1px solid #808080;}#notes_table tr:nth-child(even) {background-color: white;}#notes_table tr:hover {	background-color:  #ffffff;}#notes_table tr > th {	background: #f8f8f8; color: black;}</style><table  id='notes_table'><tr align= left><th>Azure Monitor key capabilities</th></ul></td></tr><td><ul><li>Azure Monitor provides features and capabilities in three areas</li><li>Monitor and visualize metrics => Azure Monitor gathers numerical metric values from your Azure resources according to your preferences</li><li>Query and analyze logs => Azure Monitor Logs (Log Analytics) generates activity logs, diagnostic logs, and telemetry information from your monitoring solutions.</li><li>Set up alerts and actions => Azure Monitor lets you set up alerts for your gathered data to notify you when critical conditions arise</li><tr align= left><th>Azure Monitor components</th></ul></td></tr><td><ul><li>An effective monitoring strategy helps you understand the detailed operation of the components of your applications</li><li>Data stores in Azure Monitor hold your metrics and logs. Azure Monitor Metrics and Azure Monitor Logs are the two base types of data used by the service</li><li>Various monitoring sources provide Azure Monitor with the metrics and logs data to analyze. These sources can include your Azure subscription and tenant, your Azure service instances, your Azure resources, data from your applications, and more.</li><li>Azure Monitor Insights performs different functions with the collected data, including analysis, alerting, and streaming to external systems.</li><li>1. Get insights => Access the Azure Application Insights extension to Azure Monitor to use the Application Performance Monitoring (APM) features. You can use APM tools to monitor your application performance and gather trace logging data.</li><li>2. Visualize => Utilize the many options in Azure Monitor for viewing and interpreting your gathered metrics and logs. You can use Power BI with the Azure Workbooks feature of Azure Monitor and access configurable dashboards and views.</li><li>3. Analyze => Work with Azure Monitor Logs (Log Analytics) in the Azure portal to write log queries for your data</li><li>4. Respond => Set up log alert rules in Azure Monitor to receive notifications about your application performance</li><li>5. Integrate => Ingest and export log query results from the Azure CLI, Azure PowerShell cmdlets, and various APIs.</li><tr align= left><th>metrics and logs</th></ul></td></tr><td><ul><li>All data collected by Azure Monitor fits into one of two fundamental types, metrics and logs</li><li>Metrics are numerical values that describe some aspect of a system at a particular point in time. Metrics are lightweight and capable of supporting near real-time scenarios.</li><li>Logs contain different kinds of data organized into records with different sets of properties for each type</li><li>Metrics displayed on Overview page of a resource and metrics explorer can be used to view the metrics for services and resources</li><li>In the Azure portal, log data collected by Azure Monitor is stored in Log Analytics.</li><li>Log Analytics includes a rich query language to help you quickly retrieve, consolidate, and analyze your collected data.</li><li>You can work with Log Analytics to create and test queries</li><li>Azure Monitor uses a version of the Data Explorer(Kusto Query language) query language</li><tr align= left><th>Identiry monitoring data and tiers</th></ul></td></tr><td><ul><li>Azure Monitor begins collecting data as soon as you create your Azure subscription and add resources</li><li>When you create or modify resources, this data is stored in Azure Monitor activity logs.</li><li>Performance data about resources, along with the amount of resources consumed, is stored as Azure Monitor metrics.</li><li>Extend the data you're collecting by enabling diagnostics and adding Azure Monitor Agent to compute resources. By extending your data sources, you can collect data for the internal operation of the resources</li><li>Azure Monitor Agent also lets you configure different data sources to collect logs and metrics from Windows and Linux guest operating systems</li><li>Azure Monitor can collect log data from any REST client by using the Data Collector API</li><tr align= left><th>Monitoring data tiers</th></ul></td></tr><td><ul><li>Application, Guest OS,  Azure resource, Azure subscription, Azure tenant</li><tr align= left><th>Describe activity log events</th></ul></td></tr><td><ul><li>Activity logs can help you can determine the "what, who, and when" for any write operation (PUT, POST, DELETE) performed on resources in your subscription.</li><li>Activity logs are kept for 90 days.</li><li>You can query for any range of dates in an activity log, as long as the starting date isn't more than 90 days in the past.</li><li>You can retrieve events from your activity logs by using the Azure portal, the Azure CLI, PowerShell cmdlets, and the Azure Monitor REST API</li><tr align= left><th>Business scenarios</th></ul></td></tr><td><ul><li>What operations happened on resources in my subscription?</li><li>Who initiated the operations?</li><li>When did the operations occur?</li><li>What's the current status of the operations?</li><li>What are the values of other properties that can help with my analysis of the resources and operations?</li><tr align= left><th>Query the activity log</th></ul></td></tr><td><ul><li>Let's review some of the filters you can set to control what data to review in your activity log</li><li>Subscription => Show the data for one or more specified Azure subscription names</li><li>Timespan => Show data for a specified time by choosing the start and end time for events, such as a six-hour period.</li><li>Event Severity => Show events at the selected severity levels, including Informational, Warning, Error, or Critical.</li><li>Resource group => Show data for one or more specified resource groups within your specified subscriptions</li><li>Resource (name) => Show data for the specified resources.</li><li>Resource type => Show data for resources of a specified type, such as Microsoft.Compute/virtualmachines.</li><li>Operation name => Show data for a selected Azure Resource Manager operation, such as Microsoft.SQL/servers/Write.</li><li>Event initiated by => Show operation data for a specified user who performed the operation, referred to as the "caller."</li><tr align= left><th>Things to know about event categories</th></ul></td></tr><td><ul><li>Administrative => create virtual machine/delete network security group</li><li>Service Health => SQL Azure in East US is experiencing downtime</li><li>Resource Health => Virtual Machine health status changed to unavailable/Web App health status changed to available</li><li>Alert => CPU % on devVM001 has been over 80 for the past 5 minutes/Disk read LessThan 100000 in the last 5 minutes</li><li>Autoscale => Autoscale scale up action failed</li><li>Recommendation => Recommendations for how to better utilize your resources</li><li>Security => Suspicious double extension file executed</li><li>Policy => Audit and Deny</li><tr align= left><th>Check</th></ul></td></tr><td><ul><li>Which category includes information to help track NSGs and Azure Resource Manager? => Administrative</li><li>What data does Azure Monitor collect? => Data from many different sources, such as the Application event log</li><li>How long are Azure Monitor activity logs kept? => 90 days</li></table><a href='../index.html'>Back to topics</a>